package me.ht9.rose.feature.module.modules.exploit.packetmine;

import me.ht9.rose.event.bus.annotation.SubscribeEvent;
import me.ht9.rose.event.events.BlockHitEvent;
import me.ht9.rose.feature.module.Module;
import me.ht9.rose.feature.module.annotation.Description;
import net.minecraft.src.Packet14BlockDig;

@Description("Mine blocks using packets")
public final class PacketMine extends Module {
    private static final PacketMine instance = new PacketMine();

    @SuppressWarnings("unused")
    @SubscribeEvent
    public void onBlockBreak(BlockHitEvent event) {
        if (mc.getSendQueue() == null) return;
        mc.getSendQueue().addToSendQueue(new Packet14BlockDig(0, event.x(), event.y(), event.z(), event.side()));
        mc.getSendQueue().addToSendQueue(new Packet14BlockDig(2, event.x(), event.y(), event.z(), event.side()));
    }

    public static PacketMine instance() {
        return instance;
    }
}
